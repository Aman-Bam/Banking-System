2026-02-17 09:06:27 [[32minfo[39m]: Email server is ready to send messages
2026-02-17 09:06:28 [[33mwarn[39m]: Transaction retry attempt 1 due to transient error {"service":"backend-ledger","error":"Caused by :: Write conflict during plan execution and yielding is disabled. :: Please retry your operation or multi-document transaction.","idempotencyKey":"double-spend-2"}
2026-02-17 09:06:29 [[31merror[39m]: Error sending email {"service":"backend-ledger","error":"Mail command failed: 530-5.7.0 Authentication Required. For more information, go to\n530 5.7.0  https://support.google.com/accounts/troubleshooter/2402620. d2e1a72fcca58-824c6a3f83csm12218841b3a.17 - gsmtp","to":"user1771299387556@test.com"}
PASS tests/transaction.test.js (6.733 s)
  Transaction System
    Input Validation
      âˆš rejects missing fields (335 ms)
      âˆš rejects negative amount (211 ms)
      âˆš rejects same fromAccount and toAccount (196 ms)
    Ownership Enforcement
      âˆš blocks transfer from another user's account (389 ms)
    Insufficient Balance
      âˆš returns 400 when balance is too low (165 ms)
    Successful Transfer
      âˆš completes a valid transaction (414 ms)
    Idempotency
      âˆš returns 200 with original transaction on duplicate key (396 ms)
    Double-Spend Prevention (requires real replica set)
      âˆš only allows one of two concurrent transfers to succeed when balance is limited (468 ms)

Test Suites: 1 passed, 1 total
Tests:       8 passed, 8 total
Snapshots:   0 total
Time:        6.845 s, estimated 8 s
Ran all test suites matching tests/transaction.test.js.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
